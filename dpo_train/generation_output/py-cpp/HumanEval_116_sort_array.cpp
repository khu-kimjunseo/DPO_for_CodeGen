### Python version

from typing import List

def sort_array(arr: List[int]) -> List[int]:
    return sorted(sorted(arr), key=lambda x: bin(x)[2:].count('1'))

### C++ version

#include<assert.h>
#include<bits/stdc++.h>
#include<vector>
#include<sstream>
#include<regex>
#include<map>
#include<set>
#include<unordered_map>
#include<unordered_set>
std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {
    std::vector<long> res;
    std::sort(arr.begin(), arr.end());
    res.reserve(arr.size());
    for (long i = 0; i < arr.size(); ++i) {
        res.push_back(arr[i]);
    }
    return res;
}

std::vector<long> sort_array(std::vector<long> arr) {